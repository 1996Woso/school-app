<div class="row justify-content-center">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-10 col-xl-10">
    <div class="container mt-3">
      <app-step-progress
        [currentStep]="currentStep()"
        [steps]="steps"
        [completedSteps]="completedSteps()"
      />
      <!-- Step 1: Student Info -->
      <div *ngIf="step === 1">
        <app-heading
          [containerClass]="{
            heading: true,
            'custom-shadow': isShadowEnabled
          }"
          [titleClass]="['heading-title']"
          [subClass]="subClassObject"
        >
          <span heading-title>Student's Information</span>
        </app-heading>

        <form [formGroup]="studentForm">
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(studentForm.controls['firstName'])"
                [label]="'First Name'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(studentForm.controls['secondName'])"
                [label]="'Second Name'"
              />
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(studentForm.controls['lastName'])"
                [label]="'Last Name'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <label class="radio"><b>Gender:</b></label>
              <app-radio-input
                [label]="'Male'"
                [name]="'gender'"
                [value]="'male'"
                [formControl]="$any(studentForm.controls['gender'])"
              >
                <span icon> &nbsp; <i class="bi bi-gender-male"></i> </span>
              </app-radio-input>
              &nbsp;&nbsp;
              <app-radio-input
                [label]="'Female'"
                [name]="'gender'"
                [value]="'female'"
                [formControl]="$any(studentForm.controls['gender'])"
              >
                <span icon> &nbsp; <i class="bi bi-gender-female"></i> </span>
              </app-radio-input>
              <div
                *ngIf="studentForm.controls['gender'].invalid && studentForm.controls['gender'].touched"
                class="invalid-feedback text-start"
              >
              Gender is required.
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(studentForm.controls['identityNumber'])"
                [label]="'Id No'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-date-picker
                [formControl]="$any(studentForm.controls['dateOfBirth'])"
                [label]="'Date Of Birth'"
                [maxDate]="studentMinAge"
                [minDate]="maxAge"
              />
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(studentForm.controls['phone'])"
                [label]="'Phone No'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(studentForm.controls['email'])"
                [label]="'Email'"
              />
            </div>
          </div>

          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
            <app-next-button (click)="next()" [disabled]="!studentForm.valid" />
          </div>
        </form>
      </div>

      <!-- Step 2: Student Address -->
      <div *ngIf="step === 2">
        <app-heading
          [containerClass]="{
            heading: true,
            'custom-shadow': isShadowEnabled
          }"
          [titleClass]="['heading-title']"
          [subClass]="subClassObject"
        >
          <span heading-title>Student's Address</span>
        </app-heading>
        <form [formGroup]="studentAddressForm">
          <div class="row">
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(studentAddressForm.controls['street'])"
                [label]="'Street'"
              />
            </div>
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(studentAddressForm.controls['suburb'])"
                [label]="'Suburb'"
              />
            </div>
          </div>
          <div class="row">
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(studentAddressForm.controls['city'])"
                [label]="'City'"
              />
            </div>

            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(studentAddressForm.controls['province'])"
                [label]="'Province'"
              />
            </div>
          </div>
          <div class="row">
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(studentAddressForm.controls['country'])"
                [label]="'Country'"
              />
            </div>
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(studentAddressForm.controls['postalCode'])"
                [label]="'Postal Code'"
              />
            </div>
          </div>
          <div class="d-flex justify-content-between">
            <app-back-button (click)="back()" />
            <app-next-button
              (click)="next()"
              [disabled]="!studentAddressForm.valid"
            />
          </div>
        </form>
      </div>
      <!-- Step 3: Guardian Info -->
      <div *ngIf="step === 3">
        <app-heading
          [containerClass]="{ heading: true, 'custom-shadow': isShadowEnabled }"
          [titleClass]="['heading-title']"
          [subClass]="subClassObject"
        >
          <span heading-title>Guardian's Information</span>
        </app-heading>
        <form [formGroup]="guardianForm">
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(guardianForm.controls['firstName'])"
                [label]="'First Name'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(guardianForm.controls['secondName'])"
                [label]="'Second Name'"
              />
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(guardianForm.controls['lastName'])"
                [label]="'Last Name'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <label class="radio"><b>Gender:</b></label>
              <app-radio-input
                [label]="'Male'"
                [name]="'gender'"
                [value]="'male'"
                [formControl]="$any(guardianForm.controls['gender'])"
              >
                <span icon> &nbsp; <i class="bi bi-gender-male"></i> </span>
              </app-radio-input>
              &nbsp;&nbsp;
              <app-radio-input
                [label]="'Female'"
                [name]="'gender'"
                [value]="'female'"
                [formControl]="$any(guardianForm.controls['gender'])"
              >
                <span icon> &nbsp; <i class="bi bi-gender-female"></i> </span>
              </app-radio-input>
                 <div
                *ngIf="studentForm.controls['gender'].invalid && guardianForm.controls['gender'].touched"
                class="invalid-feedback text-start"
              >
              Gender is required.
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(guardianForm.controls['identityNumber'])"
                [label]="'Id No'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(guardianForm.controls['relationship'])"
                [label]="'Relationship'"
              />
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(guardianForm.controls['phone'])"
                [label]="'Phone No'"
              />
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-text-input
                [formControl]="$any(guardianForm.controls['email'])"
                [label]="'Email'"
              />
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2">
              <app-date-picker
                [formControl]="$any(guardianForm.controls['dateOfBirth'])"
                [label]="'Date Of Birth'"
                [maxDate]="guardianMinAge"
                [minDate]="maxAge"
              />
            </div>
          </div>
          <div class="d-flex justify-content-between">
            <app-back-button (click)="back()" />
            <app-next-button
              (click)="next()"
              [disabled]="!guardianForm.valid"
            />
          </div>
        </form>
      </div>
      <!-- Step 4: Guardian Address -->
      <div *ngIf="step === 4">
        <app-heading
          [containerClass]="{ heading: true, 'custom-shadow': isShadowEnabled }"
          [titleClass]="['heading-title']"
          [subClass]="subClassObject"
        >
          <span heading-title>Guardian's Address</span>
        </app-heading>
        <form [formGroup]="guardianAddressForm">
          <div class="row">
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(guardianAddressForm.controls['street'])"
                [label]="'Street'"
              />
            </div>
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(guardianAddressForm.controls['suburb'])"
                [label]="'Suburb'"
              />
            </div>
          </div>
          <div class="row">
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(guardianAddressForm.controls['city'])"
                [label]="'City'"
              />
            </div>

            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(guardianAddressForm.controls['province'])"
                [label]="'Province'"
              />
            </div>
          </div>
          <div class="row">
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(guardianAddressForm.controls['country'])"
                [label]="'Country'"
              />
            </div>
            <div
              class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 form-floating"
            >
              <app-text-input
                [formControl]="$any(guardianAddressForm.controls['postalCode'])"
                [label]="'Postal Code'"
              />
            </div>
          </div>
          <div class="d-flex justify-content-between">
            <app-back-button (click)="back()" />
            <app-submit-button
              (click)="register()"
              [disabled]="!guardianAddressForm.valid && !sameAddress"
            />
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
